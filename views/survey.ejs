<html>
<script src="https://code.jquery.com/jquery-2.1.4.min.js"></script>
<body>
<form action='/site/addSurveyDetails/' method="post" id="formData">
    length:<input type="text" name="length"><br>
    breadth:<input type="text" name="breadth"><br>
    <select id="fno" name="fno">
        <option value="" disabled selected>Choose site name</option>
    </select><br>

    <select id="mno" name="mno">
        <option value="" disabled selected>Choose method name</option>
    </select>

    <button type="submit" id="submitButton"
            name="submitButton" value="Submit">Add
    </button>

</form>
</body>
</html>


<script type="text/javascript">

    $.get('/site/listOfSites/', function (data) {
        for (var j = 0; j < data.listOfSites.length; j++) {
            $('#fno').append('<option value="' + data.listOfSites[j].field_site_no + '">' + data.listOfSites[j].location_name + '</option>');
        }
    });


    $.get('/site/listOfMethods/', function (data) {
        for (var j = 0; j < data.surveymethods.length; j++) {
            $('#mno').append('<option value="' + data.surveymethods[j].method_id + '">' + data.surveymethods[j].method_name + '</option>');
        }
    });

    $('formData').submit(function(event) {

        // get the form data
        // there are many ways to get this data using jQuery (you can use the class or id also)
        var e = document.getElementById("fno");
        var strUser = e.options[e.selectedIndex].value;

        var f = document.getElementById("mno");
        var strUser1 = f.options[f.selectedIndex].value;
        var formData = {
            'length'              : $('input[name=length]').val(),
            'breadth'             : $('input[name=breadth]').val(),

            'fno':     strUser,
            'mno':     strUser1
        };

        $.ajax({
            type        : 'POST',
            url         : '/site/addSurveyDetails',
            data        : formData,
            dataType    : 'json',
            encode          : true
        })
                .done(function(data) {

                    console.log(data);

                });

        event.preventDefault();
    });

</script>

